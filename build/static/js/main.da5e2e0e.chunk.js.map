{"version":3,"sources":["store/cats.js","store/likes.js","store/index.js","components/Header.js","components/CatImage.js","components/AllCatsPage.js","components/FavoriteCatsPage.js","App.js","index.js"],"names":["cats","createSlice","name","initialState","images","reducers","setImages","state","action","console","log","payload","selectors","likes","catLikes","like","catId","dislike","toggle","current","Object","keys","reduce","acc","concat","store","configureStore","reducer","Header","exact","to","CatImage","props","url","isLiked","onToggle","onClick","toString","AllCatsPage","dispatch","useDispatch","useSelector","catSelectors","likeIds","likeSelectors","React","useEffect","length","axios","defaults","headers","common","get","then","res","data","actions","onCatClick","useCallback","map","imgDatum","includes","id","FavoriteCatsPage","onDislike","App","className","path","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.da5e2e0e.chunk.js","sourcesContent":["import { createSlice } from '@reduxjs/toolkit'\n\nexport const cats = createSlice({\n  name: 'cats',\n  initialState: {\n    images: [],\n  },\n  reducers: {\n    setImages: (state, action) => {\n      console.log('inside setImages: ', state, action);\n      state.images = action.payload.images;\n    },\n  }\n})\n\nexport const selectors = {\n  images: state => state.cats.images,\n};\n","import { createSlice } from '@reduxjs/toolkit'\n\nexport const likes = createSlice({\n  name: 'likes',\n  initialState: {\n    catLikes: {},\n  },\n  reducers: {\n    like: (state, action) => {\n      const catId = action.payload;\n      state.catLikes[catId] = true;\n    },\n    dislike: (state, action) => {\n      const catId = action.payload;\n      state.catLikes[catId] = false;\n    },\n    toggle: (state, action) => {\n      console.log(action);\n      const catId = action.payload;\n      const current = !!state.catLikes[catId];\n      state.catLikes[catId] = !current;\n    }\n  }\n})\n\nexport const selectors = {\n  likeIds: state => Object.keys(state.likes.catLikes).reduce((acc, catId) => {\n    if (!!state.likes.catLikes[catId]) return acc.concat(catId);\n\n    return acc;\n  }, []),\n};\n","import { configureStore } from '@reduxjs/toolkit';\n\nimport { cats } from './cats';\nimport { likes } from './likes';\n\nexport const store = configureStore({\n  reducer: {\n    cats: cats.reducer,\n    likes: likes.reducer,\n  }\n})\n","import React from \"react\";\nimport { NavLink } from \"react-router-dom\"\n\nexport const Header = function Header() {\n  return (\n    <nav>\n      <div>\n        <NavLink exact to=\"/\">All cats</NavLink>\n        <NavLink exact to=\"/favorites\">Favorite cats</NavLink>\n      </div>\n    </nav>\n  )\n}\n","import React from \"react\";\n\nexport const CatImage = function CatImage(props) {\n  const { url, isLiked, onToggle } = props;\n\n  return (\n    <div onClick={onToggle}>\n      <span>Cat url: {url} (liked: {isLiked.toString()})</span>\n    </div>\n  )\n}\n","import React from \"react\";\nimport { useSelector, useDispatch } from 'react-redux'\nimport axios from 'axios';\n\nimport { CatImage } from './CatImage';\n\nimport { selectors as catSelectors, cats } from '../store/cats';\nimport { selectors as likeSelectors, likes } from '../store/likes';\n\nexport const AllCatsPage = function AllCatsPage() {\n  const dispatch = useDispatch();\n  const images = useSelector(catSelectors.images);\n  const likeIds = useSelector(likeSelectors.likeIds);\n\n  React.useEffect(() => {\n    if (images.length !== 0) return;\n\n    const URL = \"https://api.thecatapi.com/v1/images/search?limit=9\"\n    axios.defaults.headers.common['x-api-key'] = \"53eeb490-fd74-453a-a80a-826d1cb66fae\"\n\n    axios.get(URL).then(res => {\n      console.log(res.data);\n      dispatch(cats.actions.setImages({ images: res.data }));\n    })\n  }, []);\n\n  const onCatClick = React.useCallback((catId) => {\n    dispatch(likes.actions.toggle(catId));\n  }, []);\n\n  return (\n    <div>\n      {images.map(imgDatum => {\n        return (\n          <CatImage\n            key={imgDatum.id}\n            url={imgDatum.url}\n            isLiked={likeIds.includes(imgDatum.id)}\n            onToggle={() => onCatClick(imgDatum.id)}\n          />\n        );\n      })}\n\n      <br />\n\n      {likeIds.map(id => {\n        return (\n          <div key={id} onClick={() => onCatClick(id)}>\n            Liked cat id: {id}\n          </div>\n        );\n      })}\n    </div>\n  )\n}\n","\nimport React from \"react\";\nimport { useSelector, useDispatch } from 'react-redux'\n\nimport { selectors as likeSelectors, likes } from '../store/likes';\n\nexport const FavoriteCatsPage = function FavoriteCatsPage() {\n  const dispatch = useDispatch();\n  const likeIds = useSelector(likeSelectors.likeIds);\n\n  const onDislike = React.useCallback((catId) => {\n    dispatch(likes.actions.toggle(catId));\n  }, []);\n\n  return (\n    <div>\n      {likeIds.map(id => {\n        return (\n          <div key={id} onClick={() => onDislike(id)}>\n            Liked cat id: {id}\n          </div>\n        );\n      })}\n    </div>\n  )\n}\n","import { BrowserRouter, Switch, Route } from 'react-router-dom';\n\nimport { Header } from './components/Header';\nimport { AllCatsPage } from './components/AllCatsPage';\nimport { FavoriteCatsPage } from './components/FavoriteCatsPage';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <BrowserRouter>\n        <Header />\n\n        <Switch>\n          <Route exact path=\"/\" component={AllCatsPage} />\n          <Route exact path=\"/favorites\" component={FavoriteCatsPage} />\n        </Switch>\n      </BrowserRouter>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { store } from './store'\nimport { Provider }from 'react-redux'\n\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}